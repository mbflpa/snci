<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resumo Geral - Ultra Moderno</title>
    
    <!-- Bootstrap 4 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.2/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
        
        .snci-resumo-geral {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 20px 0;
            position: relative;
        }

        .resumo-container {
            background: linear-gradient(145deg, #0f172a 0%, #1e293b 50%, #334155 100%);
            border-radius: 24px;
            padding: 32px 28px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 25px 50px -12px rgba(0, 0, 0, 0.25),
                0 0 0 1px rgba(255, 255, 255, 0.05),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .resumo-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: 1;
        }

        .resumo-container::after {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57);
            background-size: 400% 400%;
            border-radius: 26px;
            z-index: -1;
            animation: gradient-shift 8s ease infinite;
            opacity: 0.6;
        }

        @keyframes gradient-shift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .resumo-title {
            font-size: 1.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, #ffffff, #cbd5e1);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
            margin-bottom: 32px;
            position: relative;
            z-index: 2;
            letter-spacing: -0.025em;
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            justify-items: center;
            position: relative;
            z-index: 2;
        }

        .kpi-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 20px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 16px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            width: 100%;
            max-width: 280px;
            min-height: 90px;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.12),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .kpi-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.1) 0%, 
                transparent 50%, 
                rgba(255, 255, 255, 0.05) 100%);
            opacity: 0;
            transition: opacity 0.4s ease;
            pointer-events: none;
        }

        .kpi-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            width: 4px;
            background: var(--accent-gradient, linear-gradient(180deg, #64b5f6, #42a5f5));
            border-radius: 0 2px 2px 0;
            transform: scaleY(0);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .kpi-card:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .kpi-card:hover::before {
            opacity: 1;
        }

        .kpi-card:hover::after {
            transform: scaleY(1);
        }

        .kpi-card.increase {
            --accent-gradient: linear-gradient(180deg, #ef5350, #e53935);
        }

        .kpi-card.decrease {
            --accent-gradient: linear-gradient(180deg, #66bb6a, #4caf50);
        }

        .kpi-icon {
            font-size: 2rem;
            width: 60px;
            height: 60px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--icon-gradient, linear-gradient(135deg, rgba(100, 181, 246, 0.2), rgba(66, 165, 245, 0.1)));
            color: var(--icon-color, #64b5f6);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            flex-shrink: 0;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 8px 16px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .kpi-icon::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 16px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), transparent);
            pointer-events: none;
        }

        .kpi-card.increase .kpi-icon {
            --icon-gradient: linear-gradient(135deg, rgba(239, 83, 80, 0.2), rgba(229, 57, 53, 0.1));
            --icon-color: #ef5350;
        }

        .kpi-card.decrease .kpi-icon {
            --icon-gradient: linear-gradient(135deg, rgba(102, 187, 106, 0.2), rgba(76, 175, 80, 0.1));
            --icon-color: #66bb6a;
        }

        .kpi-card:hover .kpi-icon {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 
                0 12px 24px rgba(0, 0, 0, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        .kpi-content {
            flex: 1;
            min-width: 0;
        }

        .kpi-title {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 600;
            margin-bottom: 6px;
            line-height: 1.3;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .kpi-value {
            font-size: 1.6rem;
            font-weight: 800;
            background: linear-gradient(135deg, #ffffff, #e2e8f0);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1.2;
            transition: all 0.4s ease;
            letter-spacing: -0.025em;
        }

        .kpi-value.loading {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.5), rgba(226, 232, 240, 0.5));
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .kpi-card:hover .kpi-value {
            transform: scale(1.05);
            background: linear-gradient(135deg, #ffffff, #f1f5f9);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Animações avançadas */
        .fade-in-up {
            opacity: 0;
            transform: translateY(30px) scale(0.95);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .fade-in-up.animate {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .loading-pulse {
            animation: pulse-glow 2s ease-in-out infinite;
        }

        @keyframes pulse-glow {
            0%, 100% { 
                opacity: 0.7;
                transform: scale(1);
            }
            50% { 
                opacity: 1;
                transform: scale(1.02);
            }
        }

        /* Efeito de partículas floating */
        .floating-particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 1;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 20s infinite linear;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) translateX(0px) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) translateX(100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Responsividade */
        @media (max-width: 992px) {
            .kpi-grid {
                grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
                gap: 14px;
            }
            
            .kpi-card {
                max-width: 260px;
                min-height: 85px;
                padding: 18px;
            }
            
            .kpi-icon {
                width: 55px;
                height: 55px;
                font-size: 1.8rem;
            }
            
            .kpi-value {
                font-size: 1.5rem;
            }
        }

        @media (max-width: 768px) {
            .resumo-container {
                padding: 24px 20px;
                margin: 0 10px;
                border-radius: 20px;
            }
            
            .kpi-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .kpi-card {
                max-width: none;
                min-height: 80px;
                padding: 16px;
                gap: 14px;
            }
            
            .resumo-title {
                font-size: 1.3rem;
                margin-bottom: 24px;
            }
            
            .kpi-title {
                font-size: 0.7rem;
            }
            
            .kpi-value {
                font-size: 1.4rem;
            }
            
            .kpi-icon {
                width: 50px;
                height: 50px;
                font-size: 1.6rem;
            }
        }

        @media (max-width: 480px) {
            .resumo-container {
                padding: 20px 16px;
            }
            
            .kpi-card {
                min-height: 75px;
                padding: 14px;
                gap: 12px;
                border-radius: 16px;
            }
            
            .kpi-icon {
                width: 45px;
                height: 45px;
                font-size: 1.4rem;
                border-radius: 12px;
            }
            
            .kpi-title {
                font-size: 0.65rem;
                margin-bottom: 4px;
            }
            
            .kpi-value {
                font-size: 1.3rem;
            }
        }
    </style>
</head>
<body style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px 0;">
    <div class="container-fluid">
        <div class="snci-resumo-geral">
            <div class="resumo-container">
                <div class="floating-particles"></div>
                <h2 class="resumo-title" id="tituloResumo">Resumo Geral de 2025</h2>
                <div class="kpi-grid" id="kpiGrid">
                    <!-- Cards serão inseridos aqui via JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- jQuery e Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.2/js/bootstrap.bundle.min.js"></script>

    <script>
        $(document).ready(function() {
            // Configurações do componente
            const config = {
                tituloResumo: "Resumo Geral de 2025",
                showAnimation: true,
                dados: {
                    testesEnvolvidos: {
                        valor: 85,
                        icone: "fas fa-list-ul",
                        titulo: "Testes Envolvidos",
                        cor: "",
                        ordem: 1
                    },
                    testesAplicados: {
                        valor: 342,
                        icone: "fas fa-tasks",
                        titulo: "Testes Aplicados",
                        cor: "",
                        ordem: 2
                    },
                    conformes: {
                        valor: 287,
                        icone: "fas fa-check-circle",
                        titulo: "Conformes",
                        cor: "decrease",
                        ordem: 3
                    },
                    deficienciasControle: {
                        valor: 55,
                        icone: "fas fa-exclamation-triangle",
                        titulo: "Deficiência do Controle",
                        cor: "increase",
                        ordem: 4
                    },
                    totalEventos: {
                        valor: 1250,
                        icone: "fas fa-chart-bar",
                        titulo: "Total de Eventos",
                        cor: "",
                        ordem: 5
                    },
                    reincidencia: {
                        valor: 12,
                        icone: "fas fa-redo",
                        titulo: "Reincidência",
                        cor: "",
                        ordem: 6
                    },
                    valorEnvolvido: {
                        valor: 2547890,
                        icone: "fas fa-dollar-sign",
                        titulo: "Valor Envolvido",
                        cor: "",
                        formatacao: "moeda",
                        ordem: 7
                    }
                }
            };

            // Função para criar partículas flutuantes
            function createFloatingParticles() {
                const particlesContainer = $('.floating-particles');
                const particleCount = 15;
                
                for (let i = 0; i < particleCount; i++) {
                    const particle = $('<div class="particle"></div>');
                    particle.css({
                        left: Math.random() * 100 + '%',
                        animationDelay: Math.random() * 20 + 's',
                        animationDuration: (15 + Math.random() * 10) + 's'
                    });
                    particlesContainer.append(particle);
                }
            }

            // Função para inicializar o componente
            function initResumoGeral() {
                // Definir título
                $('#tituloResumo').text(config.tituloResumo);

                // Criar partículas
                createFloatingParticles();

                // Ordenar dados
                const dadosOrdenados = [];
                $.each(config.dados, function(chave, item) {
                    item.chave = chave;
                    dadosOrdenados.push(item);
                });
                
                dadosOrdenados.sort(function(a, b) {
                    return a.ordem - b.ordem;
                });

                // Gerar cards
                let cardsHtml = '';
                $.each(dadosOrdenados, function(index, item) {
                    const corClass = item.cor ? item.cor : '';
                    const fadeClass = config.showAnimation ? 'fade-in-up' : '';
                    const delay = item.ordem * 150;

                    cardsHtml += `
                        <div class="kpi-card ${corClass} ${fadeClass}" data-delay="${delay}" data-chave="${item.chave}">
                            <div class="kpi-icon">
                                <i class="${item.icone}"></i>
                            </div>
                            <div class="kpi-content">
                                <div class="kpi-title">${item.titulo}</div>
                                <div class="kpi-value loading loading-pulse" data-target="${item.valor}" data-formatacao="${item.formatacao || ''}">
                                    0
                                </div>
                            </div>
                        </div>
                    `;
                });

                $('#kpiGrid').html(cardsHtml);

                // Iniciar animações
                startAnimations();
            }

            // Função para iniciar animações
            function startAnimations() {
                if (config.showAnimation) {
                    // Animar entrada dos cards
                    $('.fade-in-up').each(function(index) {
                        const $card = $(this);
                        const delay = $card.data('delay') || (index * 150);
                        
                        setTimeout(function() {
                            $card.addClass('animate');
                        }, delay);
                    });

                    // Iniciar animação dos números após os cards aparecerem
                    setTimeout(function() {
                        animateNumbers();
                    }, 1000);
                } else {
                    $('.fade-in-up').addClass('animate');
                    animateNumbers();
                }
            }

            // Função para animar números
            function animateNumbers() {
                $('.kpi-value[data-target]').each(function() {
                    const $element = $(this);
                    const target = parseInt($element.data('target'));
                    const formatacao = $element.data('formatacao');
                    
                    if (target && !$element.hasClass('animated')) {
                        $element.addClass('animated');
                        
                        $({ countNum: 0 }).animate({
                            countNum: target
                        }, {
                            duration: 2200,
                            easing: 'easeOutCubic',
                            step: function() {
                                const current = Math.floor(this.countNum);
                                $element.text(formatValue(current, formatacao));
                            },
                            complete: function() {
                                $element.text(formatValue(this.countNum, formatacao));
                                $element.removeClass('loading loading-pulse');
                            }
                        });
                    }
                });
            }

            // Função para formatar valores
            function formatValue(valor, formatacao) {
                if (formatacao === 'moeda') {
                    return 'R$ ' + valor.toLocaleString('pt-BR');
                }
                return valor.toLocaleString('pt-BR');
            }

            // Verificar visibilidade
            function checkVisibility() {
                const container = $('.resumo-container')[0];
                if (container && isElementInViewport(container) && !$(container).hasClass('animated')) {
                    $(container).addClass('animated');
                    startAnimations();
                }
            }

            // Função para verificar se elemento está visível
            function isElementInViewport(el) {
                const rect = el.getBoundingClientRect();
                return (
                    rect.top >= 0 &&
                    rect.left >= 0 &&
                    rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                    rect.right <= (window.innerWidth || document.documentElement.clientWidth)
                );
            }

            // Event listeners
            $(window).on('scroll resize', checkVisibility);

            // Easing personalizado
            $.easing.easeOutCubic = function(x) {
                return 1 - Math.pow(1 - x, 3);
            };

            // Inicializar componente
            initResumoGeral();
            checkVisibility();
        });
    </script>
</body>
</html>